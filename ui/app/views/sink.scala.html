@main {
    <h2>Event Stream</h2>
    <p>Events are pushed from the Server using a Server Sent Event connection.</p>
    <div id="sink"></div>
    <script type="text/javascript" charset="utf-8">
      if (!!window.EventSource) {
        var listener = function(e) {
          $('#sink').append('<div>' + e.data + '</div>');
        };
        var source = new EventSource("@routes.EventStreamController.events()");
        source.addEventListener('message', listener);
      }
    </script>
}
